# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ—Å—Ç—ã?

–¢–µ—Å—Ç—ã ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–±–µ–∂–¥–∞—é—Ç, —á—Ç–æ –≤–∞—à –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –≠—Ç–æ **–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –≤–∏–¥–µ –∫–æ–¥–∞**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–µ–±—è –≤–µ—Å—Ç–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞ –≤ Jest

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —á–∞—Å—Ç–µ–π:

```javascript
test('–æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º', () => {
  // 1. –ü–û–î–ì–û–¢–û–í–ö–ê (Arrange) - —Å–æ–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞
  const players = [
    { id: 1, name: 'Player1', rating: 100 },
    { id: 2, name: 'Player2', rating: 90 },
  ];

  // 2. –î–ï–ô–°–¢–í–ò–ï (Act) - –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
  const teams = divideIntoTeams(players, 2);

  // 3. –ü–†–û–í–ï–†–ö–ê (Assert) - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  expect(teams.length).toBe(2);
  expect(teams[0].length).toBe(2);
});
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Jest

- `describe('–≥—Ä—É–ø–ø–∞ —Ç–µ—Å—Ç–æ–≤', () => { ... })` - –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `test('–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞', () => { ... })` - –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
- `beforeEach(() => { ... })` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º
- `expect(—Ä–µ–∑—É–ª—å—Ç–∞—Ç).toBe(–æ–∂–∏–¥–∞–µ–º–æ–µ)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ

## –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

### –§–∞–π–ª: `__tests__/utils/divideIntoTeams.test.js`

```javascript
describe('divideIntoTeams', () => {
  test('–¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ 2 –∫–æ–º–∞–Ω–¥—ã', () => {
    // –®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    const players = [
      { id: 1, name: 'Player1', rating: 100 },
      { id: 2, name: 'Player2', rating: 90 },
      { id: 3, name: 'Player3', rating: 80 },
      { id: 4, name: 'Player4', rating: 70 },
    ];

    // –®–ê–ì 2: –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
    const teams = divideIntoTeams(players, 2);

    // –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    expect(teams.length).toBe(2);        // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 2 –∫–æ–º–∞–Ω–¥—ã
    expect(teams[0].length).toBe(2);     // –í –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–µ 2 –∏–≥—Ä–æ–∫–∞
    expect(teams[1].length).toBe(2);     // –í–æ –≤—Ç–æ—Ä–æ–π –∫–æ–º–∞–Ω–¥–µ 2 –∏–≥—Ä–æ–∫–∞
  });
});
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–æ–≤–Ω–æ 2 –∫–æ–º–∞–Ω–¥—ã
- –í –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–µ –ø–æ 2 –∏–≥—Ä–æ–∫–∞ (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)

## –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (GlobalState)

```javascript
describe('GlobalState', () => {
  beforeEach(() => {
    // –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ü–ï–†–ï–î –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º
    GlobalState.setPlayers([]);  // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤
    GlobalState.setQueue([]);    // –û—á–∏—â–∞–µ–º –æ—á–µ—Ä–µ–¥—å
    // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
  });

  test('–¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤', () => {
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    const players = [
      { id: 1, name: 'Player1' },
      { id: 2, name: 'Player2' },
    ];

    // –î–µ–π—Å—Ç–≤–∏–µ
    GlobalState.setPlayers(players);

    // –ü—Ä–æ–≤–µ—Ä–∫–∞
    expect(GlobalState.getPlayers()).toEqual(players);
  });
});
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- `GlobalState.setPlayers()` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- `GlobalState.getPlayers()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã

```bash
npm test
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
PASS  __tests__/utils/divideIntoTeams.test.js
  divideIntoTeams
    –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª—É—á–∞–∏
      ‚úì –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ 2 –∫–æ–º–∞–Ω–¥—ã
      ‚úì –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–º–µ–π–∫—É –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
      ...
  
Test Suites: 7 passed, 7 total
Tests:       145 passed, 145 total
```

‚úÖ –ï—Å–ª–∏ –≤—Å–µ `passed` - –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
‚ùå –ï—Å–ª–∏ `failed` - –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏

### 2. –†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (Watch Mode)

```bash
npm run test:watch
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
‚Ä∫ Press a to run all tests.
‚Ä∫ Press f to run only failed tests.
‚Ä∫ Press q to quit watch mode.
‚Ä∫ Press p to filter by a filename regex pattern.
```

### 3. –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ (Coverage)

```bash
npm run test:coverage
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏
- –ö–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
-------------------|---------|----------|---------|---------|
File               | % Stmts | % Branch | % Funcs | % Lines |
-------------------|---------|----------|---------|---------|
utils/divideIntoTeams.js | 100 | 100 | 100 | 100 |
utils/telegramUtils.js   | 100 | 100 | 100 | 100 |
message/buildTeamsMessage.js | 93.22 | 78.26 | 100 | 96.22 |
-------------------|---------|----------|---------|---------|
```

## –†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—ã –∏–∑–º–µ–Ω–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
npm test

# 2. –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å, —É–∑–Ω–∞–µ—Ç–µ —á—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å
FAIL __tests__/utils/divideIntoTeams.test.js
  ‚óè divideIntoTeams ‚Ä∫ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–º–µ–π–∫—É
    expect(received).toBe(expected)
    Expected: 100
    Received: 90
    
# 3. –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∫–æ–¥
# 4. –°–Ω–æ–≤–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ç–µ—Å—Ç—ã
npm test

# 5. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é

```javascript
// –ù–æ–≤—ã–π —Ñ–∞–π–ª: utils/calculateRating.js
function calculateRating(goals, wins, losses) {
  return goals * 2 + wins * 5 - losses * 2;
}

module.exports = calculateRating;
```

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç:

```javascript
// __tests__/utils/calculateRating.test.js
const calculateRating = require('../../utils/calculateRating');

describe('calculateRating', () => {
  test('–¥–æ–ª–∂–µ–Ω —Å—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ', () => {
    const rating = calculateRating(3, 2, 1);
    // goals * 2 + wins * 5 - losses * 2
    // 3 * 2 + 2 * 5 - 1 * 2 = 6 + 10 - 2 = 14
    expect(rating).toBe(14);
  });

  test('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è', () => {
    expect(calculateRating(0, 0, 0)).toBe(0);
  });
});
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–ï—Å—Ç –Ω–∞—Ö–æ–¥–∏—Ç –±–∞–≥ –≤ –∫–æ–¥–µ

```javascript
// –í–∞—à –∫–æ–¥
function divideIntoTeams(players, numTeams) {
  // ... –∫–æ–¥ ...
  return teams;  // –û—à–∏–±–∫–∞: –≤–µ—Ä–Ω—É–ª–∏ –Ω–µ —Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥
}

// –¢–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É
‚úì –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ 2 –∫–æ–º–∞–Ω–¥—ã (9 ms)
‚úó –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–º–µ–π–∫—É –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
  expect(received).toBe(expected)
  Expected: 2
  Received: 3    // ‚ùå –í–µ—Ä–Ω—É–ª–æ—Å—å 3 –∫–æ–º–∞–Ω–¥—ã –≤–º–µ—Å—Ç–æ 2!

// –í—ã –Ω–∞—à–ª–∏ –±–∞–≥! –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∫–æ–¥.
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (Expectations)

Jest –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```javascript
// –¢–æ—á–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ
expect(value).toBe(4);
expect(value).toEqual({ name: 'test' });

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ true/false
expect(value).toBeTruthy();
expect(value).toBeFalsy();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤ —Å—Ç—Ä–æ–∫–µ/–º–∞—Å—Å–∏–≤–µ
expect(message).toContain('–∏–≥—Ä–æ–∫');
expect(array).toHaveLength(5);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–µ–ª
expect(value).toBeGreaterThan(10);
expect(value).toBeLessThan(100);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
expect(obj).toHaveProperty('name');
expect(obj).toMatchObject({ id: 1 });

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
expect(() => someFunction()).toThrow('Error message');
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

```javascript
test('–¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã', async () => {
  const result = await getPlayerStats([{ id: 1 }]);
  expect(result).toBeDefined();
  expect(result.length).toBe(1);
});

test('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É API', async () => {
  try {
    await safeTelegramCall(ctx, 'sendMessage', [123, 'Text']);
  } catch (error) {
    expect(error.code).toBe(500);
  }
});
```

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### ‚úÖ –•–û–†–û–®–ò–ï –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã —á–∞—Å—Ç–æ**
   ```bash
   npm run test:watch  # –î–µ—Ä–∂–∏—Ç–µ –≤ —Ñ–æ–Ω–µ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
   ```

2. **–û–¥–∏–Ω —Ç–µ—Å—Ç - –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞**
   ```javascript
   // ‚ùå –ü–õ–û–•–û
   test('—Ç–µ—Å—Ç –≤—Å–µ–≥–æ', () => {
     expect(fun1()).toBe(1);
     expect(fun2()).toBe(2);
     expect(fun3()).toBe(3);
   });
   
   // ‚úÖ –•–û–†–û–®–û
   test('fun1 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1', () => {
     expect(fun1()).toBe(1);
   });
   test('fun2 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 2', () => {
     expect(fun2()).toBe(2);
   });
   ```

3. **–Ø—Å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤**
   ```javascript
   // ‚ùå "test1"
   // ‚úÖ "–¥–æ–ª–∂–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –ø–æ—Ä–æ–≤–Ω—É –Ω–∞ 2 –∫–æ–º–∞–Ω–¥—ã"
   ```

4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏**
   ```javascript
   test('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—É—Å—Ç—É—é –∫–æ–º–∞–Ω–¥—É', () => {
     expect(divideIntoTeams([], 2)).toEqual([[], []]);
   });
   ```

### ‚ùå –ß–¢–û –ù–ï –î–ï–õ–ê–¢–¨

1. –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≤–∞–ª–∏–≤—à–∏–µ—Å—è —Ç–µ—Å—Ç—ã
2. –ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Jest, Telegram API)
3. –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–∏—Å–∏–º—ã–º–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–∞–¥–∞–µ—Ç –≤ CI

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `beforeEach` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```javascript
beforeEach(() => {
  GlobalState.setPlayers([]);  // –ß–∏—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
});
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –¢–µ—Å—Ç—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ:** 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
- –ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞—Ö

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ—á–∏—Å—Ç–∏–ª–∏ –ª–∏ –≤—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
```javascript
beforeEach(() => {
  // –í–°–ï–ì–î–ê –æ—á–∏—â–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ!
});
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
npm test -- divideIntoTeams

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
npm test -- __tests__/store/index.test.js

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
npm test -- --verbose

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–ª–∏–≤—à–∏–µ—Å—è —Ç–µ—Å—Ç—ã
npm test -- --onlyFailures

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ª–∏–º–∏—Ç–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
npm test -- --maxWorkers=1
```

## –ü—Ä–∏–º–µ—Ä workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# 1. –ù–∞—á–∏–Ω–∞–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
npm run test:watch

# 2. –ü–∏—à–µ—Ç–µ –∫–æ–¥ –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

# 3. –ü–∏—à–µ—Ç–µ —Ç–µ—Å—Ç
# –°–æ–∑–¥–∞–µ—Ç–µ __tests__/feature/newFunction.test.js

# 4. –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ç–µ—Å—Ç (watch mode –∑–∞–ø—É—Å—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç (–∫—Ä–∞—Å–Ω—ã–π) - —Ç–∞–∫ –∏ –Ω–∞–¥–æ, —Ñ—É–Ω–∫—Ü–∏—è –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞

# 5. –†–µ–∞–ª–∏–∑—É–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–æ –∫–æ–Ω—Ü–∞

# 6. –¢–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç (–∑–µ–ª–µ–Ω—ã–π) ‚úÖ

# 7. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: —É–ª—É—á—à–∞–µ—Ç–µ –∫–æ–¥
# Watch mode –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å

# 8. –ö–æ–º–º–∏—Ç: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
git add .
git commit -m "feat: add new function with tests"

# 9. CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Jest Documentation](https://jestjs.io/docs/getting-started)
- –í–∞—à–∏ —Ç–µ—Å—Ç—ã: `__tests__/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `jest.config.js`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: `TESTING.md`

---

**–ü–æ–º–Ω–∏—Ç–µ:** –¢–µ—Å—Ç—ã - —ç—Ç–æ –≤–∞—à —Å–µ—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞! üõ°Ô∏è

